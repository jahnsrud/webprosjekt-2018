!function($,t,e){"use strict";$(document).ready(function(){var e=$(".post-type-portfolio #acf-field-item_type, .post-type-portfolio #acf-field_54c7b3e324244");if(e.length){var o=$('<div class="portfolio-item-type-images"><div class="loader"></div></div>'),i=$('<div class="portfolio-item-type-warning"></div>'),a=e.val(),s=e.find("option:selected").text(),n=t.location.toString().match(/action=edit/),l={"type-1":"portfolio-item-type-1.png","type-2":"portfolio-item-type-2.png","type-3":"portfolio-item-type-3.png","type-4":"portfolio-item-type-4.png","type-5":"portfolio-item-type-5.png","type-6":"portfolio-item-type-6.png","type-7":"portfolio-item-type-7.png"};e.after(i).after(o),n?i.append("<strong>Note:</strong> You are currently using <strong>"+s+"</strong> type. If you change this portfolio type you may lose some of the current settings."):(acf.screen.item_type=e.val(),$(document).trigger("acf/update_field_groups"));var c={},r=0;c[e.val()]=!0,e.find("option").each(function(i,a){var s=$(a),n=$('<a href="#" class="portfolio-item-type-image-option"><img src="'+kaliumAssetsDir+"images/admin/"+l[s.val()]+'" /><span class="opt-label">'+s.html()+"</span></a>");o.append(n),n.on("click",function(i){i.preventDefault(),e.val(s.val()),d(),o.addClass("is-loading"),void 0!==c[s.val()]&&setTimeout(function(){o.removeClass("is-loading")},500),c[s.val()]=!0,t.clearTimeout(r),r=setTimeout(function(){o.removeClass("is-loading")},3e3),acf.screen.item_type=s.val(),$(document).trigger("acf/update_field_groups")})});var d=function(){e.find("option").each(function(t,s){var l=$(s),c=o.find(".portfolio-item-type-image-option").eq(t);c.removeClass("active"),l.is(":selected")&&c.addClass("active"),n&&(a!=e.val()?i.slideDown():i.slideUp())})};e.hide(),d(),$(document).on("acf/setup_fields",function(t){o.removeClass("is-loading")}),$(".page-title-action").is(":visible")||$(".acf_postbox").not(e.closest(".acf_postbox")).addClass("acf-hidden")}$("#section-skin_palettes_list .skin-palette").each(function(t,e){var o=$(e),i=[];o.find("span").each(function(t,e){i.push(e.style.backgroundColor)}),o.click(function(t){t.preventDefault(),$("#custom_skin_bg_color").iris("color",i[0]),$("#custom_skin_link_color").iris("color",i[1]),$("#custom_skin_headings_color").iris("color",i[2]),$("#custom_skin_paragraph_color").iris("color",i[3]),$("#custom_skin_footer_bg_color").iris("color",i[4]),$("#custom_skin_borders_color").iris("color",i[5])})}),$(".portfolio-likes-reset[data-id]").each(function(t,e){var o=$(e);o.on("click",function(t){t.preventDefault(),o.addClass("is-loading"),$.post(ajaxurl,{action:"lab_portfolio_reset_likes",post_id:o.data("id")},function(t){o.removeClass("is-loading"),"success"==t&&o.prev(".likes-num").html("0")})})}),$("body").on("click","#restore-default-shop-image-dimensions",function(t){t.preventDefault();var e=$(this),o=e.find("em"),i=1==o.length;if(e.data("busy"))return!1;e.addClass("is-loading").data("busy",!0),i&&!o.data("default")&&o.data("default",o.html()),$.get(ajaxurl,{action:"kalium_woocommerce_reset_image_dimensions",override_shop_image_dimensions:1},function(t){e.data("busy",!1).removeClass("is-loading"),i&&o.data("success")&&(o.fadeTo(150,0,function(){o.html('<i class="fa fa-check"></i> '+o.data("success")).fadeTo(300,1)}),setTimeout(function(){o.fadeTo(150,0,function(){o.html(o.data("default")).fadeTo(300,1)})},3e3))})}),$("#acf-field-page_custom_css").bind("keydown.wpevent_InsertTab",function(t){var e=t.target,o,i,a,s,n;if(27==t.keyCode)return t.preventDefault(),void $(e).data("tab-out",!0);if(!(9!=t.keyCode||t.ctrlKey||t.altKey||t.shiftKey)){if($(e).data("tab-out"))return void $(e).data("tab-out",!1);o=e.selectionStart,i=e.selectionEnd,a=e.value,document.selection?(e.focus(),n=document.selection.createRange(),n.text="\t"):o>=0&&(s=this.scrollTop,e.value=a.substring(0,o).concat("\t",a.substring(i)),e.selectionStart=e.selectionEnd=o+1,this.scrollTop=s),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}})})}(jQuery,window);